import{a as G}from"./chunk-OOYBFLCY.js";import{a as D}from"./chunk-QKNJGQYQ.js";import{$ as e,F as u,Hb as y,Ia as h,J as c,Jb as N,K as f,Kb as x,Lb as F,Mb as w,Nb as E,Pb as U,Sb as A,T as d,U as a,Wa as S,X as g,aa as o,ba as s,db as b,eb as C,fa as p,ka as m,kb as v}from"./chunk-5WL5R7UM.js";var R=(()=>{let t=class t{constructor(i,r){this.store=i,this.fb=r,this.settingsForm=this.fb.group({email:[""],bio:[""],image:[""],password:[""],username:[""]})}ngOnDestroy(){this.subcriptionCurrUser.unsubscribe()}ngOnInit(){this.currUser$=this.store.select(i=>v(i)),this.subcriptionCurrUser=this.currUser$.subscribe(i=>{i&&this.settingsForm.patchValue(i)})}logout(){this.store.dispatch(C.logout())}updateSettings(){console.log(this.settingsForm.value),this.store.dispatch(b.updateSettings({settingsRequest:this.settingsForm.value}))}};t.\u0275fac=function(r){return new(r||t)(a(S),a(U))},t.\u0275cmp=c({type:t,selectors:[["rw-settings"]],decls:26,vars:1,consts:[[1,"settings-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],[1,"error-messages"],[3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","image","type","text","placeholder","URL of profile picture",1,"form-control"],["formControlName","username","type","text","placeholder","Your Name",1,"form-control","form-control-lg"],["rows","8","placeholder","Short bio about you","formControlName","bio",1,"form-control","form-control-lg"],["formControlName","email","type","text","placeholder","Email",1,"form-control","form-control-lg"],["formControlName","password","type","password","placeholder","New Password",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-lg","btn-primary","pull-xs-right"],[1,"btn","btn-outline-danger",3,"click"]],template:function(r,l){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),m(5,"Your Settings"),o(),e(6,"ul",5)(7,"li"),m(8,"That name is required"),o()(),e(9,"form",6),p("ngSubmit",function(){return l.updateSettings()}),e(10,"fieldset")(11,"fieldset",7),s(12,"input",8),o(),e(13,"fieldset",7),s(14,"input",9),o(),e(15,"fieldset",7),s(16,"textarea",10),o(),e(17,"fieldset",7),s(18,"input",11),o(),e(19,"fieldset",7),s(20,"input",12),o(),e(21,"button",13),m(22,"Update Settings"),o()()(),s(23,"hr"),e(24,"button",14),p("click",function(){return l.logout()}),m(25,"Or click here to logout."),o()()()()()),r&2&&(d(9),g("formGroup",l.settingsForm))},dependencies:[F,y,N,x,w,E],encapsulation:2});let n=t;return n})();var j=[{path:"",component:R,canActivate:[D]}];var W=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=f({type:t}),t.\u0275inj=u({providers:[G],imports:[h.forChild(j),A]});let n=t;return n})();export{W as SettingModule};
