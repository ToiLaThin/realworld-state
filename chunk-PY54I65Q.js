import{$ as a,Ab as g,Db as D,Ea as $,Eb as K,F as P,Fb as N,Ga as k,Ia as O,J as b,K as U,Qb as L,R as T,Rb as z,Sb as V,T as l,U as u,Wa as E,X as d,aa as p,ba as w,fa as h,ha as S,hb as v,ka as m,la as _,lb as M,ma as A,oa as y,pa as n,pb as j,qa as s,ta as B,wa as I,yb as R}from"./chunk-5WL5R7UM.js";var q=r=>({active:r}),G=(()=>{let t=class t{get ButtonType(){return j}constructor(e,o,i){this.route=e,this.store=o,this.router=i}ngOnDestroy(){this.isCurrentUserFollowingThisProfileSubscription.unsubscribe(),this.isUserAuthenticatedSubscription.unsubscribe()}ngOnInit(){this.profileSelected$=this.store.select(e=>D(e)),this.isThisProfileOfCurrentUser$=this.store.select(e=>K(e)),this.isOnFavoritedTab$=this.store.select(e=>R(e)),this.profileUsername=this.route.snapshot.paramMap.get("username"),this.store.dispatch(g.profileOfUserSelected({username:this.profileUsername})),this.store.dispatch(v.filterByAuthorChanged({author:this.profileUsername})),this.isCurrentUserFollowingThisProfileSubscription=this.profileSelected$.subscribe(e=>{e&&(this.isCurrentUserFollowingThisProfile=e.following)}),this.isUserAuthenticatedSubscription=this.store.select(e=>M(e)).subscribe(e=>{(e==null||e==null)&&(this.isUserAuthenticated=!1),this.isUserAuthenticated=e})}viewProfileFavoritedArticles(){this.store.dispatch(v.filterByFavoritedChanged({favorited:this.profileUsername}))}viewProfileArticles(){this.store.dispatch(v.filterByAuthorChanged({author:this.profileUsername}))}unfollowProfile(){if(!this.isUserAuthenticated){this.router.navigate(["/login"]);return}this.store.dispatch(g.unfollowProfile({username:this.profileUsername}))}followProfile(){if(!this.isUserAuthenticated){this.router.navigate(["/login"]);return}this.store.dispatch(g.followProfile({username:this.profileUsername}))}};t.\u0275fac=function(o){return new(o||t)(u($),u(E),u(k))},t.\u0275cmp=b({type:t,selectors:[["rw-profile"]],decls:31,vars:26,consts:[[1,"profile-page"],[1,"user-info"],[1,"container"],[1,"row"],[1,"col-xs-12","col-md-10","offset-md-1"],[1,"user-img",3,"src"],[3,"buttonType","isProfileFollowing","displayText","buttonFollowingClicked"],[1,"articles-toggle"],[1,"nav","nav-pills","outline-active"],[1,"nav-item"],[1,"nav-link",3,"ngClass","click"]],template:function(o,i){if(o&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),w(5,"img",5),n(6,"async"),a(7,"h4"),m(8),n(9,"async"),p(),a(10,"p"),m(11),n(12,"async"),p(),a(13,"rw-shared-button",6),h("buttonFollowingClicked",function(){return i.isCurrentUserFollowingThisProfile?i.unfollowProfile():i.followProfile()}),n(14,"async"),n(15,"async"),p()()()()(),a(16,"div",2)(17,"div",3)(18,"div",4)(19,"div",7)(20,"ul",8)(21,"li",9)(22,"a",10),h("click",function(){return i.viewProfileArticles()}),n(23,"async"),m(24,"My Articles"),p()(),a(25,"li",9)(26,"a",10),h("click",function(){return i.viewProfileFavoritedArticles()}),n(27,"async"),m(28,"Favorited Articles"),p()()()(),w(29,"rw-article-list")(30,"rw-paginator"),p()()()()),o&2){let f,C,F,c;l(5),S("src",(f=s(6,8,i.profileSelected$))==null?null:f.image,T),l(3),_((C=s(9,10,i.profileSelected$))==null?null:C.username),l(3),A(" ",(F=s(12,12,i.profileSelected$))==null?null:F.bio," "),l(2),d("buttonType",i.ButtonType.Following)("isProfileFollowing",i.isCurrentUserFollowingThisProfile)("displayText",i.isCurrentUserFollowingThisProfile?" Unfollow "+((c=s(14,14,i.profileSelected$))==null?null:c.username):" Follow "+((c=s(15,16,i.profileSelected$))==null?null:c.username)),l(9),d("ngClass",y(22,q,s(23,18,i.isOnFavoritedTab$)===!1)),l(4),d("ngClass",y(24,q,s(27,20,i.isOnFavoritedTab$)===!0))}},dependencies:[B,L,N,z,I],encapsulation:2});let r=t;return r})();var H=[{path:":username",component:G}];var Ce=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=U({type:t}),t.\u0275inj=P({imports:[V,O.forChild(H)]});let r=t;return r})();export{Ce as ProfileModule};
